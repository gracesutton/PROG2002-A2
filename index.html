<!DOCTYPE html>
<html>
  <head>
      <title>Home page</title>
      <link rel="stylesheet" href="style.css"/>
  </head>
  <script>
    // javascript can go here
  </script>
  <body>
    <!-- Navigation Menu -->
    <header class="navbar">
        <h1>Gold Coast Charity Connect</h1>
        <button>Home</button>
        <button>Search</button>
    </header>

    <p>Hi, and welcome to Gold Coast Charity Connect! The one place to find out about local charity events in our area. Click on an event to learn more and register!</p>

 

    <!-- Upcoming Events -->
    <h2>Upcoming Events</h2>
    <section id="upcoming-events-box">
        <div id="data"></div>            
    </section>

    <!-- Past Events -->
    <h2>Past Events</h2>
    <section id="past-events-box">
        <p>No past events</p>
    </section>

    <img src="header.jpeg" width="100%">

    <script>
      // Fetch upcoming events
      fetch('http://localhost:8080/api/events')
        .then(response => response.json())
        .then(data => {
          const dataDiv = document.getElementById('data');
          dataDiv.innerHTML = "";
          if(data.length>0) {
            data.forEach(event => {
              const eventDiv = document.createElement('div');
              eventDiv.className = 'event';
              eventDiv.innerHTML = `
                <h3>${event.EventName}</h3>
                <p>${event.Description}</p>
                <p>Date: ${new Date(event.EventDate).toLocaleDateString()}</p>
                <p>Location: ${event.Location}</p>
              `;
              dataDiv.appendChild(eventDiv);
            });
          } else {
            dataDiv.textContent = "No events to show";
          }
        })
        .catch(error => {
          console.error('Error fetching events:', error);
          document.getElementById(data).textContent = "Failed to load events";
        });

    </script>

  </body>
</html>
